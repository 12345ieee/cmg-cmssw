<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 TRANSITIONAL//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

	
    <title>ECAL OD Monitoring</title>
    <style type="text/css">
body {
    font-family: verdana,arial,helvetica,sans-serif;
}

iframe#ifrm { 
    border:1px dashed #ccc;
    width:99%;
    height:100%;
}

table.playback {
    color: white;
}

input.playback {
    font-size: 13px;
    width: 55px;
}

a.activeXmasLink {
    background-color: red;
}

div#lnks {
    background-color: black;
    color: white;
    position:absolute;
    border: black 1px solid;
    padding: 0px;
    width: 100%;
    top: 0px;
    left: 0px;
    height: 30px;
}


a:link, a:visited, a:hover, a:active { color: white; text-decoration: none; }

div#loopPagesMessage {
    position:absolute;
    top: 0;
    right: 10;
    color: red;
    font-size: 1.5em;
}

div#loopPagesLinks {
}

div#theframe {
    position: absolute;
    border: black 1px solid;
    top: 30px;
    left: 0;
    width: 100%;
    height: 100%;
}

    </style>

    <script type="text/javascript">
function xmasLink ( title, url ) {
    this.title = title;
    this.url = url;
} 

var xmasLinks=new Array(
        new xmasLink( "CCS","http://ecalod-xmas.cms:9813/urn:xdaq-application:service=ccsmonitor/GoCCSs"),
        new xmasLink( "DCC","http://ecalod-xmas.cms:9811/urn:xdaq-application:service=dccmonitor/GoDCCs"),
        new xmasLink( "SRP","http://ecalod-xmas.cms:9815/urn:xdaq-application:service=srpmonitor/GoSRPs"),
        new xmasLink( "TCC","http://ecalod-xmas.cms:9812/urn:xdaq-application:service=tccmonitor/GoTCCs"),
        new xmasLink( "Trg","http://ecalod-xmas.cms:9830/urn:xdaq-application:service=trgmonitor/"),
        new xmasLink( "SLB","http://ecalod-xmas.cms:9814/urn:xdaq-application:service=slbmonitor/GoSLBs"),
        new xmasLink( "Tpg","http://ecalod-xmas.cms:9832/urn:xdaq-application:service=tpgmonitor/"),
	new xmasLink( "Qpll","http://ecalod-xmas.cms:9831/urn:xdaq-application:service=qpllmonitor/GoQPLLs"),
        new xmasLink( "Tree","http://ecalod-xmas.cms:9810/urn:xdaq-application:service=treemonitor/")
	);




// <![CDATA[

/* Free code from dyn-web.com */

// Two choices for loading new pages into the iframe 
function loadIframe(iframeName, url) {
    if ( window.frames[iframeName] ) {
        window.frames[iframeName].location = url;   
        return false;
    }
    return true;
}

function changeIframeSrc(id, url) {
    if (!document.getElementById) return;
    var el = document.getElementById(id);
    if (el && el.src) {
        el.src = url;
        return false;
    }
    return true;
}

function loadLinks ( ) 
{
    var myStr="";

    for (i=0; i<xmasLinks.length; i++) {
        myStr += "<a href='"+xmasLinks[i].url+"' id='"+xmasLinks[i].title+"Link' class='xmasLink' onclick=\"return loadPage("+i+")\">"+xmasLinks[i].title+"</a> ";
    }
    document.getElementById("loopPagesLinks").innerHTML = myStr;

}

var loopPagesIntervalId = 0;
var currentPageId = 0;
var loopPagesInterval = 10000;

function loopPagesHandler ( )
{
    if ( document.getElementById("loopPagesButton").value == "Start" )
    {
        // Start the timer
        document.getElementById("loopPagesButton").value = "Stop";
        loopPagesIntervalId = setInterval ( "loopPages()", loopPagesInterval );
    }
    else
    {
        document.getElementById("loopPagesButton").value = "Start";
        clearInterval ( loopPagesIntervalId );
    }
}

function loopPages ( )
{
    nextPage();
}

function nextPage ( ) {
    loadPage( currentPageId+1 );
}

function loadPage( idx ) {


    if ( idx < 0 || idx >= xmasLinks.length ) 
        return false;

    document.getElementById(xmasLinks[currentPageId].title+"Link").className = "xmasLink";

    document.getElementById("loopPagesMessage").innerHTML = xmasLinks[idx].title;
    document.getElementById(xmasLinks[idx].title+"Link").className = "activeXmasLink";
    currentPageId = idx;
    return loadIframe('ifrm',xmasLinks[idx].url );
}
-->
// ]]>
    </script>

	</head><body onload="loadLinks(); loadPage(0)">
    <div id="lnks">
        <table class='playback'><tbody>
            <tr>
                <td>
                    Playback
                </td><td>
                    <input class='playback' id="loopPagesButton" value="Start" onclick="loopPagesHandler()" type="button"> 
                </td><td>
                    <input class='playback' value="Next" onclick="nextPage()" type="button"> 
                </td>
                <td>
                    <div id="loopPagesLinks">Loading...</div>
                </td>
            </tr>
        </tbody>
    </table>
    </div>
    <div id="theframe">
        <iframe id="ifrm" name="ifrm" src="" scrolling="auto" frameborder="1">
            [Content for browsers that don't support iframes goes here.]
        </iframe>
    </div>
    <div id="loopPagesMessage">Loading...</div>
    </body></html>
